<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    let count = 0;

   const factorial = function (num) {
     count++;
  if (num === 1) {
    return 1;
  } else {
    return (num * factorial(num-1))
  }
}

const proxyCache = function (fn) {
  const cache = {};
  return function (num) {
    if (num in cache) {
      return cache[num];
    }
    return cache[num] = fn.call(this, num)
  }
}
const proxyFactorial = proxyCache(factorial);
console.log(proxyFactorial(5)); // 直接使用factorial会执行25次，缓存代理后只会执行5次
console.log(proxyFactorial(5))
console.log(proxyFactorial(5))
console.log(proxyFactorial(5))

console.log(count)
 
  </script>
</body>
</html>