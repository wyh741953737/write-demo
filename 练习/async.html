<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    async function fn1() {
      const data = await fn2();
      console.log(3)
      const res = await fn3();
      console.log(res)
      return res+data
    }
    async function fn2() {
      return new Promise((resolve, reject) => {
        console.log(4)
        resolve('fn2的结果')
      }).then(data => {
        console.log(5)
        return data;
      })
    }
    async function fn3() {
      console.log('牛')
      return new Promise(resolve => {
        resolve('A')
      }).then((v) => {return v})
    }
    fn1().then(data => {
      console.log(data)
    })
    new Promise(resolve => {
      console.log(7)
    }).then(() => {
      console.log(8)
    })
    // 微任务： 'fn2的结果'   打印8，A
    // 4753牛
  </script>
</body>

</html>